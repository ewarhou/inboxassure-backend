# InboxAssure Backend API Documentation

Base URL: http://inboxassure-backend.imnodev.com/api

## Authentication
All endpoints require Bearer token authentication. Add the following header to your requests:
```
Authorization: Bearer <your_token>
```

## Endpoints

### Get Dashboard Summary
Get comprehensive summary metrics for each organization including account stats and email delivery predictions.

**Endpoint:** `/analytics/dashboard/summary`
**Method:** GET
**Authentication:** Required

#### Response
Array of organization summaries with the following structure for each organization:

```json
{
    "organization_id": "string",        // Organization's workspace UUID
    "organization_name": "string",      // Name of the organization
    "checked_accounts": integer,        // Total number of checked accounts
    "at_risk_accounts": integer,        // Number of accounts at risk
    "protected_accounts": integer,      // Number of protected accounts
    "spam_emails_count": integer,       // Estimated number of emails going to spam based on sending limit
    "inbox_emails_count": integer,      // Estimated number of emails going to inbox based on sending limit
    "spam_emails_percentage": float,    // Percentage of emails going to spam (0-100)
    "inbox_emails_percentage": float,   // Percentage of emails going to inbox (0-100)
    "overall_deliverability": float,    // Overall deliverability score (0-100)
    "last_check_date": "string"        // ISO formatted date of the last check
}
```

#### Example Response
```json
[
    {
        "organization_id": "4e8aadb2-0697-4750-8035-432d47e06815",
        "organization_name": "findymail",
        "checked_accounts": 775,
        "at_risk_accounts": 43,
        "protected_accounts": 732,
        "spam_emails_count": 1075,
        "inbox_emails_count": 18300,
        "spam_emails_percentage": 5.55,
        "inbox_emails_percentage": 94.45,
        "overall_deliverability": 23.93,
        "last_check_date": "2025-02-13T07:41:40.065435"
    }
]
```

#### Field Descriptions
- `checked_accounts`: Total number of email accounts being monitored (sum of at_risk and protected)
- `at_risk_accounts`: Number of accounts that failed deliverability checks
- `protected_accounts`: Number of accounts that passed deliverability checks
- `spam_emails_count`: Estimated daily emails going to spam (at_risk_accounts × sending_limit)
- `inbox_emails_count`: Estimated daily emails reaching inbox (protected_accounts × sending_limit)
- `spam_emails_percentage`: Percentage of total emails likely to go to spam
- `inbox_emails_percentage`: Percentage of total emails likely to reach inbox
- `overall_deliverability`: Combined score based on Google and Outlook performance (0-100)
- `last_check_date`: Timestamp of the most recent check for any account

#### Notes
- All counts and estimates are based on the latest check for each account
- Sending limits are used to calculate email counts (default: 25 if not specified)
- Percentages are rounded to 2 decimal places
- The overall deliverability score is calculated as: ((avg_google_score + avg_outlook_score) / 2) × 25

#### Possible HTTP Status Codes
- 200: Successful request
- 401: Unauthorized (invalid or missing token)
- 403: Forbidden (valid token but insufficient permissions)
- 500: Internal server error
